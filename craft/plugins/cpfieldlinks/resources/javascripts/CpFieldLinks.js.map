{"version":3,"sources":["webpack:///webpack/bootstrap 33190af2cc4a28643df7","webpack:///./CpFieldLinks.js"],"names":[],"mappings":"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","file":"CpFieldLinks.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"javascripts/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 33190af2cc4a28643df7\n **/","var CpFieldLinks = exports;\n\nif (window.$) $(function(){\n    CpFieldLinks.data = window._CpFieldLinksData || false;\n    CpFieldLinks.init();\n});\n\nCpFieldLinks.settings = {\n    settingsClassSelector : 'cpFieldLinks-settings',\n    infoClassSelector : 'cpFieldLinks-info',\n    redirectKey : '_CpFieldLinksRedirectTo'\n};\n\nCpFieldLinks.init = function () {\n\n    CpFieldLinks.path = Craft.path;\n\n    var redirectTo = Craft.getLocalStorage(CpFieldLinks.settings.redirectKey);\n\n    if (redirectTo)\n    {\n        var $actionInput = $('input[type=\"hidden\"][name=\"action\"]').filter('[value=\"fields/saveField\"],[value=\"sections/saveEntryType\"],[value=\"globals/saveSet\"],[value=\"categories/saveGroup\"]'),\n            $redirectInput = $('input[type=\"hidden\"][name=\"redirect\"]');\n        if ($actionInput.length > 0 && $redirectInput.length > 0)\n        {\n            $redirectInput.attr('value', redirectTo);\n        }\n    }\n\n    Craft.setLocalStorage(CpFieldLinks.settings.redirectKey, null);\n\n    $(document)\n        .on('click', '.' + CpFieldLinks.settings.settingsClassSelector + ' a', CpFieldLinks.onCpFieldLinksClick)\n        .ajaxComplete(CpFieldLinks.onAjaxComplete);\n\n    this.render();\n\n};\n\nCpFieldLinks.render = function () {\n\n    CpFieldLinks.fieldIds = [];\n\n    $('.cpFieldLinks').remove();\n\n    var $fields = $('#main .field');\n\n    var fieldData = this.data.fields || {},\n        $field,\n        fieldId;\n    $fields.each(function () {\n        $field = $(this);\n        fieldId = CpFieldLinks.getFieldIdFromAttribute($field.attr('id'));\n        if (fieldId && fieldData.hasOwnProperty(fieldId)) {\n            $field.find('.heading:first label').after(CpFieldLinks.templates.editFieldBtn(fieldData[fieldId]));\n            CpFieldLinks.fieldIds.push($field.attr('id'));\n        }\n    });\n\n    // Add edit source button\n    var $elementSourceIdInputs = $('input[type=\"hidden\"]').filter('[name=\"entryTypeId\"],[name=\"sectionId\"],[name=\"setId\"],[name=\"groupId\"]'),\n        elementSources = {},\n        elementSourceEditLink = false,\n        elementSourceEditType;\n\n    $elementSourceIdInputs.each(function () {\n        elementSources[$(this).attr('name')] = $(this).attr('value');\n    });\n\n    if (elementSources.hasOwnProperty('sectionId'))\n    {\n        elementSourceEditLink = CpFieldLinks.data.baseEditEntryTypeUrl.replace('sectionId', elementSources.sectionId);\n        elementSourceEditType = Craft.t('Entry Type');\n        var typeId = $('#entryType').val() || false;\n        elementSourceEditLink += '/' + (typeId ? typeId : (CpFieldLinks.data.entryTypeIds.hasOwnProperty(elementSources.sectionId) ? CpFieldLinks.data.entryTypeIds[elementSources.sectionId][0] : ''));\n    } else if (elementSources.hasOwnProperty('setId') && $('input[type=\"hidden\"][name=\"action\"][value=\"globals/saveSet\"]').length === 0)\n    {\n        elementSourceEditLink = CpFieldLinks.data.baseEditGlobalSetUrl + '/' + elementSources.setId;\n        elementSourceEditType = Craft.t('Global Set');\n    } else if (elementSources.hasOwnProperty('groupId') && $('input[type=\"hidden\"][name=\"action\"][value=\"categories/saveCategory\"]').length > 0)\n    {\n        elementSourceEditLink = CpFieldLinks.data.baseEditCategoryGroupUrl + '/' + elementSources.groupId;\n        elementSourceEditType = Craft.t('Category Group');\n    }\n\n    if (elementSourceEditLink)\n    {\n        var $editSourceButton = $(CpFieldLinks.templates.editSourceBtn(elementSourceEditLink, elementSourceEditType));\n        switch (elementSourceEditType)\n        {\n            case Craft.t('Global Set') :\n                $editSourceButton.appendTo($('#content'));\n                break;\n\n            case Craft.t('Entry Type') : case Craft.t('Category Group') :\n                $('#fields').append($editSourceButton);\n                break;\n\n            default :\n                $editSourceButton.appendTo($('#main'));\n        }\n    }\n\n};\n\nCpFieldLinks.getFieldIdFromAttribute = function (value) {\n    if (!value) return false;\n    value = value.split('-');\n    if (value.length === 3) return value[1];\n    return false;\n};\n\nCpFieldLinks.templates = {\n    editFieldBtn : function (attributes)\n    {\n        return  '<div class=\"cpFieldLinks cpFieldLinks-fieldEdit\">' +\n                    '<div class=\"' + CpFieldLinks.settings.settingsClassSelector + '\">' +\n                        '<a href=\"' + CpFieldLinks.data.baseEditFieldUrl + '/' + attributes.id + '\" class=\"settings icon\" role=\"button\" aria-label=\"Edit field\"></a>' +\n                    '</div>' +\n                    '<div class=\"' + CpFieldLinks.settings.infoClassSelector + '\">' + '<p><code>' + attributes.handle + '</code></p></div>' +\n                '</div>';\n    },\n    editSourceBtn : function (href, type)\n    {\n        return  '<div class=\"cpFieldLinks cpFieldLinks-sourceEdit\">' +\n                    '<div class=\"cpFieldLinks-wrapper\">' +\n                        '<div class=\"' + CpFieldLinks.settings.settingsClassSelector + '\">' +\n                            '<a href=\"' + href + '\" class=\"settings icon\" role=\"button\" aria-label=\"Edit ' + (type || 'element source') + '\"></a>' +\n                        '</div>' +\n                        '<div class=\"' + CpFieldLinks.settings.infoClassSelector + '\">' + '<p><span>Edit ' + (type || 'element source') + '</span></p></div>' +\n                    '</div>' +\n                '</div>';\n    }\n};\n\nCpFieldLinks.onCpFieldLinksClick = function (e) {\n    Craft.setLocalStorage(CpFieldLinks.settings.redirectKey, Craft.path);\n};\n\nCpFieldLinks.onAjaxComplete = function(e, status, requestData) {\n    if (requestData.url.indexOf('switchEntryType') > -1 || Craft.path !== CpFieldLinks.path) CpFieldLinks.render();\n};\n\n\n/** WEBPACK FOOTER **\n ** ./CpFieldLinks.js\n **/"],"sourceRoot":""}